{% extends "partials/base.html.twig" %}

{% set propertyAggregateTemplate = 'components/property-aggregate.html.twig' %}
{% set esriMapCSS = 'https://js.arcgis.com/4.4/esri/css/main.css' %}

{% block head %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ esriMapCSS }}">
{% endblock %}

{% block content %}
    <property-aggregate
        :event-bus="eventBus"
        :filter="urlParams.filter"
        :list-view="urlParams.listView"
        :raw-filter-value="urlParams.filterValue"
        :update-url-params-event="updateUrlParamsEvent"
        inline-template>
        {% include propertyAggregateTemplate with {
            filters: page.header.filters,
            arcmap: page.header.arcmap
        } only %}
    </property-aggregate>
{% endblock %}

{% block bottom %}
    {{ parent() }}
{% endblock %}
