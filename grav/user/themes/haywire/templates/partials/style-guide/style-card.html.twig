{% set cardType = card.cardType %}
{% set cardClass = "#{cardType}-style" %}
{% set cardTemplate = 'partials/card.html.twig' %}

{% set inputCardType = 'input' %}
{% set inputTemplate = 'partials/elements/input.html.twig' %}
{% set textAreaTemplate = 'partials/elements/textarea.html.twig' %}
{% set inputType = card.inputType %}
{% set inputClass = card.inputClass %}
{% set inputPlaceholder = card.inputPlaceholder | default('FIRST NAME') %}
{% set textInputType = 'text' %}
{% set textAreaInputType = 'textarea' %}

{% set iconCardType = 'icon' %}
{% set iconId = card.iconId %}
{% set iconTemplate = 'partials/svg-icon.html.twig' %}

{% set buttonCardType = 'button' %}
{% set buttonClass = card.buttonClass %}

{% set typographyCardType = 'typography' %}
{% set typographyClass = card.typographyClass %}

{% set colorCardType = 'color' %}
{% set colorClass = card.colorClass %}

{% set aspectRatio = card.aspectRatio %}

{% if cardType == colorCardType %}
    {% set aspectRatio = aspectRatio | default('is-4by3') %}
{% endif %}

{% embed cardTemplate with { cardClass: cardClass } %}
    {% block card_image %}
        {% if cardType == colorCardType or cardType == iconCardType %}
            <figure class="image {{ aspectRatio }} {{ colorClass }}">
                {% if cardType == iconCardType %}
                    {% include iconTemplate with { iconId: iconId } %}
                {% endif %}
            </figure>
        {% endif %}
        {% if cardType == buttonCardType %}
            <button class="button {{ buttonClass }}">Click Here</button>
        {% endif %}
        {% if cardType == inputCardType %}
            {% if inputType == textInputType %}
                {% include inputTemplate with {
                    inputType: inputType,
                    inputClass: inputClass,
                    placeholder: inputPlaceholder
                } only %}
            {% elseif inputType == textAreaInputType %}
                {% include textAreaTemplate with {
                    inputClass: inputClass,
                    placeholder: inputPlaceholder
                } %}
            {% endif %}
        {% endif %}
    {% endblock %}
    {% block card_content %}
        {% if cardType == iconCardType %}
            <p>{{ iconId }}</p>
        {% elseif cardType == typographyCardType %}
            <p class="{{ typographyClass }}">Aa Zz</p>
            <hr>
            <p>.{{ typographyClass }}</p>
        {% elseif cardType == colorCardType %}
            <p>.{{ colorClass }}</p>
        {% elseif cardType == buttonCardType %}
            <p>.button.{{ buttonClass }}</p>
        {% elseif cardType == inputCardType %}
            {% if inputType == textInputType %}
                <p>input[type="{{ inputType }}"].input.{{ inputClass }}</p>
            {% elseif inputType == textAreaInputType %}
                <p>.textarea.{{ inputClass }}</p>
            {% endif %}
        {% endif %}
    {% endblock %}
{% endembed %}
